"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js");if(!Array){e.resolveComponent("u-icon")()}Math||(t+(()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js"))();const t=()=>"../../components/navbar.js",r=e.defineComponent({__name:"index",setup(t){const{appContext:r}=e.getCurrentInstance(),o=r.config.globalProperties;e.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});const n=e.reactive({list:[],search_type:{name:"选择按姓名",value:"name"},type:{person:1,company:2},search_word:"",pub_picker:!1,pub_value:[],column:[{name:"选择按姓名",value:"name"},{name:"选择按证件号",value:"card_number"},{name:"选择按手机号",value:"mobile"},{name:"选择按合同编号",value:"contract_num"}],page:1,pageSize:10,total:0}),p=e=>{n.pub_value=e.detail.value},s=a=>{1===a&&(n.page=1),o.$request("/loan/Order/getOrderList",{currentPage:n.page,perPage:n.pageSize,user_type:e.index.getStorageSync("userInfo").user_type.length>1?"b":"a",status:"a",search_type:n.search_type.value,search_data:n.search_word}).then((e=>{n.total=e.data.count,1===n.page?n.list=e.data.list:n.list=e.data.list.concat(n.list)}))};return e.onReachBottom((()=>{n.page+1<=Math.ceil(n.total/n.pageSize)&&(n.page++,s(2))})),s(1),(t,r)=>e.e({a:e.p({title:"待提交"}),b:e.t(n.search_type.name),c:e.p({name:"arrow-down",size:"3vw",color:"#666666"}),d:e.o((e=>n.pub_picker=!0)),e:e.p({name:"search",size:"5vw",color:"#666666"}),f:n.search_word,g:e.o((e=>n.search_word=e.detail.value)),h:e.o((e=>s(1))),i:e.f(n.list,((a,r,o)=>({a:e.t(a.name),b:e.t("person"===a.type?t.$cardUtil(a.card_number):""),c:"83348a52-3-"+o,d:e.t(a.goods_name),e:e.t("person"===a.type?"个人":"企业"),f:e.s("person"===a.type?"background: #FF8177":"background: #F3A469"),g:e.t(a.contract_num),h:e.t(a.create_time),i:r,j:e.o((e=>t.$navigateTo("/home_packages/details/index",{order_id:a.id,id:a.goods_id,type:n.type[a.type]})),r)}))),j:e.p({name:"arrow-right",size:"4vw",color:"#666666"}),k:0===n.list.length},0===n.list.length?{l:a._imports_0$5}:{},{m:n.pub_picker},n.pub_picker?{n:e.o((e=>n.pub_picker=!1)),o:e.o((e=>(n.search_type=n.column[n.pub_value[0]],void(n.pub_picker=!1)))),p:e.f(n.column,((a,t,r)=>({a:e.t(a.name),b:t}))),q:n.pub_value,r:e.o(p)}:{},{s:n.pub_picker},n.pub_picker?{t:e.o((e=>n.pub_picker=!1))}:{})}});wx.createPage(r);
