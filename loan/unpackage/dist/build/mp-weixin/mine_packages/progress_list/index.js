"use strict";const t=require("../../common/vendor.js"),e=require("../../common/assets.js");if(!Array){t.resolveComponent("u-icon")()}Math||(a+(()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js"))();const a=()=>"../../components/navbar.js",s=t.defineComponent({__name:"index",props:{card_number:{type:String}},setup(a){const{appContext:s}=t.getCurrentInstance(),o=s.config.globalProperties;t.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});const n=a,u=t.reactive({appType:t.index.getStorageSync("appType"),list:[],search_type:"选择按姓名",pub_picker:!1,pub_value:[],column:[{name:"选择按姓名"},{name:"选择按证件号"},{name:"选择按手机号"},{name:"选择按申请编号"}],page:1,pageSize:10,total:0,status_type:{a:{color:"#FF8177",name:"待提交"},b:{color:"#F97E39",name:"待审核"},c:{color:"#FF8177",name:"待签约"},d:{color:"#FF8177",name:"公证中"},e:{color:"#FF8177",name:"待放款"},g:{color:"#109181",name:"流程完结"},f:{color:"#FF8177",name:"转债中"},z:{color:"#FF3030",name:"合同作废"}},notarization_status:{a:{color:"#FF8177",name:"未提交"},b:{color:"#FF8177",name:"公证中"},c:{color:"#109181",name:"审核完成"},d:{color:"#109181",name:"已下证"},z:{color:"#FF3030",name:"公证异常"}}}),r=t=>{u.pub_value=t.detail.value},c=e=>{console.log(e),t.index.navigateTo({url:"/pages/web_view/index?url="+encodeURIComponent(e)})};t.onMounted((()=>{p()}));const p=()=>{t.index.showLoading({title:"请稍后"}),o.$request("/loan/Order/getOrderList",{currentPage:u.page,perPage:u.pageSize,user_type:t.index.getStorageSync("userInfo").user_type.length>1?"b":"a",search_type:"card_number",search_data:n.card_number}).then((e=>{u.total=e.data.count,1===u.page?u.list=e.data.list:u.list=u.list.concat(e.data.list),t.index.hideLoading()}))};return t.onReachBottom((()=>{u.page+1<=Math.ceil(u.total/u.pageSize)&&(u.page++,p())})),(a,s)=>t.e({a:t.p({title:"进度查询"}),b:t.f(u.list,((e,s,o)=>t.e({a:t.t(e.name),b:t.s("person"===e.type?"max-width:17vw;min-width:17vw;width:fit-content":"max-width:40vw;min-width:17vw;width:fit-content"),c:t.t("person"===e.type?a.$cardUtil(e.card_number):""),d:t.t(u.status_type[e.status].name),e:"solid 1px "+u.status_type[e.status].color,f:u.status_type[e.status].color,g:"d"===e.status||"e"===e.status||"f"===e.status||"g"===e.status},"d"===e.status||"e"===e.status||"f"===e.status||"g"===e.status?{h:t.t(u.notarization_status[e.notarization_status].name),i:"solid 1px "+u.notarization_status[e.notarization_status].color,j:u.notarization_status[e.notarization_status].color}:{},{k:"f459707e-1-"+o,l:t.o((a=>(e=>{let a="person"===e.type?1:2;t.index.navigateTo({url:"/mine_packages/order_detail/index?id="+e.id+"&type="+a+"&goods_name="+e.goods_name})})(e)),s),m:t.t(e.goods_name),n:t.t("person"===e.type?"个人":"企业"),o:t.s("person"===e.type?"background: #FF8177;":"background: #F3A469;"),p:t.t(e.contract_num),q:t.t(e.create_time),r:("b"===e.status||"c"===e.status)&&"Y"===e.open_ll_status&&2===u.appType&&"a"==e.ll_account_status},"b"!==e.status&&"c"!==e.status||"Y"!==e.open_ll_status||2!==u.appType||"a"!=e.ll_account_status?{}:{s:t.o((t=>c(e.open_ll_account_url)),s)},{t:("b"===e.status||"c"===e.status)&&"Y"===e.open_ll_status&&2===u.appType&&"c"==e.ll_account_status},"b"!==e.status&&"c"!==e.status||"Y"!==e.open_ll_status||2!==u.appType||"c"!=e.ll_account_status?{}:{v:t.o((a=>{return s=e.open_ll_account_url,void t.index.showToast({title:s,duration:2e3,icon:"none"});var s}),s)},{w:"a"!==e.status&&"b"!==e.status&&"c"!==e.status&&"Y"===e.open_ll_status&&1===u.appType&&"b"==e.ll_account_status},"a"!==e.status&&"b"!==e.status&&"c"!==e.status&&"Y"===e.open_ll_status&&1===u.appType&&"b"==e.ll_account_status?{x:t.o((t=>c(e.manage_ll_account_url)),s)}:{},{y:s}))),c:t.p({name:"arrow-right",size:"4vw",color:"#666666"}),d:0===u.list.length},0===u.list.length?{e:e._imports_0$5}:{},{f:u.pub_picker},u.pub_picker?{g:t.o((t=>u.pub_picker=!1)),h:t.o((t=>(u.search_type=u.column[u.pub_value[0]].name,void(u.pub_picker=!1)))),i:t.f(u.column,((e,a,s)=>({a:t.t(e.name),b:a}))),j:u.pub_value,k:t.o(r)}:{},{l:u.pub_picker},u.pub_picker?{m:t.o((t=>u.pub_picker=!1))}:{})}});wx.createPage(s);
