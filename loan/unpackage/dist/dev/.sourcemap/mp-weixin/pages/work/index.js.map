{"version":3,"file":"index.js","sources":["pages/work/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yay9pbmRleC52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"bg\">\n\t\t\t<image src=\"@/static/bg.png\" mode=\"\"></image>\n\t\t</view>\n\t\t<view class=\"navbar\" :style=\"{paddingTop:state.statusBarHeight+'px',height:state.navigationBarHeight+'px'}\">\n\t\t\t工作台\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<swiper class=\"banner\" autoplay circular>\n\t\t\t\t<swiper-item v-for=\"(item,index) in state.banner\" :key=\"index\">\n\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\"\n\t\t\t\t\t\t@click=\"$navigateTo('/pages/rich_text/index',{id:item.id,url:'/loan/Banner/getBannerRichText'})\">\n\t\t\t\t\t</image>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\n\t\t\t<view class=\"notice\">\n\t\t\t\t<swiper style=\"height: 25px;width: 100%;\" autoplay circular vertical>\n\t\t\t\t\t<swiper-item style=\"display: flex;align-items: center;\" v-for=\"(item,index) in state.notice\"\n\t\t\t\t\t\t:key=\"index\" @click=\"changeState(item.id)\">\n\t\t\t\t\t\t<view class=\"type\">公告</view>\n\t\t\t\t\t\t<view class=\"title\">{{item.title}}</view>\n\t\t\t\t\t\t<u-icon name=\"arrow-right\" size=\"5vw\" color=\"#666666\"></u-icon>\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</swiper>\n\t\t\t</view>\n\n\t\t\t<view class=\"option\" v-if=\"state.userInfo.user_type.includes('b')||state.userInfo.user_type.includes('c')\">\n\t\t\t\t<view class=\"item\" @click=\"$navigateTo('/work_packages/submitted/index')\"\n\t\t\t\t\tv-if=\"state.userInfo.user_type.includes('b')\">\n\t\t\t\t\t<image src=\"@/static/icon4.png\" mode=\"\"></image>\n\t\t\t\t\t待提交\n\t\t\t\t\t<view class=\"tips\">{{state.userInfo.a_order_number}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"item\" @click=\"$navigateTo('/work_packages/grab/index')\"\n\t\t\t\t\tv-if=\"state.userInfo.user_type.includes('c')\">\n\t\t\t\t\t<image src=\"@/static/icon5.png\" mode=\"\"></image>\n\t\t\t\t\t可抢件\n\t\t\t\t\t<view class=\"tips\">{{state.userInfo.b_order_number}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"item\" @click=\"$navigateTo('/work_packages/backlog/index')\"\n\t\t\t\t\tv-if=\"state.userInfo.user_type.includes('c')\">\n\t\t\t\t\t<image src=\"@/static/icon6.png\" mode=\"\"></image>\n\t\t\t\t\t待办件\n\t\t\t\t\t<view class=\"tips\">{{state.userInfo.c_order_number}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"item\" v-if=\"state.userInfo.user_type.includes('b')\"></view>\n\t\t\t\t<view class=\"item\"\n\t\t\t\t\tv-if=\"state.userInfo.user_type.includes('c')||state.userInfo.user_type.includes('b')\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"notice_popup\" v-show=\"state.popup_state\">\n\t\t\t<view class=\"head\">\n\t\t\t\t<view style=\"width: 5vw;\"></view>\n\t\t\t\t<view class=\"title\">公告</view>\n\t\t\t\t<view class=\"close\" @click=\"state.popup_state = false\">\n\t\t\t\t\t<u-icon name=\"close\" size=\"5vw\" color=\"#666666\"></u-icon>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<scroll-view scroll-y=\"true\" style=\"max-height: 90vw;min-height: 70vw;\">\n\t\t\t\t<u-parse :content=\"state.html_content\" class=\"html_content\"></u-parse>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t<view class=\"mask\" v-show=\"state.popup_state\"></view>\n\t\t<Tabbar :index=\"1\"></Tabbar>\n\t</view>\n</template>\n<!--创建时间：2024-03-30 16:43:21-->\n<script setup lang=\"ts\">\n\timport { onShow } from \"@dcloudio/uni-app\"\n\timport { reactive, getCurrentInstance } from \"vue\"\n\timport { Result } from \"@/utils/interface\"\n\timport Tabbar from \"@/components/tabbar.vue\";\n\n\tconst state = reactive({\n\t\tstatusBarHeight: getApp().globalData.statusBarHeight,\n\t\tnavigationBarHeight: getApp().globalData.navigationBarHeight,\n\t\tnavHeight: getApp().globalData.navHeight,\n\t\tpopup_state: false,\n\t\thtml_content: ``,\n\n\t\tuserInfo: uni.getStorageSync(\"userInfo\"),\n\n\t\tbanner: [],\n\t\tnotice: []\n\t})\n\tconst { appContext } = getCurrentInstance();\n\tconst globalProxy = appContext.config.globalProperties;\n\tuni.showShareMenu({\n\t\twithShareTicket: true,\n\t\tmenus: ['shareAppMessage', 'shareTimeline']\n\t})\n\n\tonShow(() => {\n\t\tglobalProxy.$request(\"/loan/Banner/getBannerList\", {\n\t\t\tuser_type: \"worker\"\n\t\t}).then((res : Result) => {\n\t\t\tstate.banner = res.data.list\n\t\t})\n\t\tglobalProxy.$request(\"/loan/Notice/getNoticeList\", {\n\t\t\tuser_type: \"worker\"\n\t\t}).then((res : Result) => {\n\t\t\tstate.notice = res.data.list\n\t\t})\n\t\tglobalProxy.$request(\"/loan/User/getUserInfo\").then((res : Result) => {\n\t\t\tstate.userInfo = res.data\n\t\t})\n\t})\n\n\tconst changeState = (id : string) => {\n\t\tglobalProxy.$request(\"/loan/Notice/getNoticeRichText\", {\n\t\t\tnotice_id: id\n\t\t}).then((res : Result) => {\n\t\t\tstate.html_content = res.data.content;\n\t\t\tstate.popup_state = true;\n\t\t})\n\t}\n</script>\n<style lang='scss'>\n\t.container {\n\t\t>.mask {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tbackground: rgba(0, 0, 0, .5);\n\t\t\tz-index: 98;\n\t\t}\n\n\t\t>.notice_popup {\n\t\t\tposition: fixed;\n\t\t\twidth: 76.26vw;\n\t\t\tpadding: 2.8vw 3.87vw 4.4vw;\n\t\t\tbackground: #FFFFFF;\n\t\t\tborder-radius: 1.33vw;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\tz-index: 99;\n\n\t\t\t.html_content {\n\t\t\t\tword-break: break-all;\n\t\t\t}\n\n\t\t\t>.head {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tmargin-bottom: 2.8vw;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 4.27vw;\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t}\n\n\t\t>.content {\n\t\t\tpadding: 0 4vw;\n\t\t\tposition: relative;\n\n\t\t\t>.option {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-around;\n\t\t\t\tbackground: #FFFFFF;\n\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\tpadding: 3.07vw 0;\n\n\t\t\t\t>.item {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 3.2vw;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t>image {\n\t\t\t\t\t\twidth: 7vw;\n\t\t\t\t\t\theight: 7vw;\n\t\t\t\t\t\tmargin-bottom: 1vw;\n\t\t\t\t\t}\n\n\t\t\t\t\t>.tips {\n\t\t\t\t\t\tbackground: #FF8177;\n\t\t\t\t\t\tborder-radius: 1.73vw;\n\t\t\t\t\t\tpadding: .53vw .76vw;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\tfont-size: 2.67vw;\n\t\t\t\t\t\tcolor: #FFFFFF;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tright: -2vw;\n\t\t\t\t\t\ttop: -2vw\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.notice {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 3.33vw 2.67vw;\n\t\t\t\tbackground: #FFFFFF;\n\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\tmargin: 4vw 0;\n\n\t\t\t\t.type {\n\t\t\t\t\twidth: 10.67vw;\n\t\t\t\t\theight: 5.33vw;\n\t\t\t\t\tborder-radius: 0.8vw;\n\t\t\t\t\tborder: 1px solid #F97E39;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-size: 3.47vw;\n\t\t\t\t\tcolor: #F97E39;\n\t\t\t\t}\n\n\t\t\t\t.title {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 0 2.8vw;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\tfont-size: 3.47vw;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t.banner {\n\t\t\t\theight: 31.87vw;\n\t\t\t\tmargin-top: 4vw;\n\n\t\t\t\timage {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t>.navbar {\n\t\t\tpadding: 0 4vw;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tz-index: 20;\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\n\t\t>.bg {\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100vw;\n\t\t\theight: 100vh;\n\n\t\t\t>image {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\t}\n</style>","import MiniProgramPage from 'F:/ProjectsCode/loan/pages/work/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","uni","getCurrentInstance","onShow","MiniProgramPage"],"mappings":";;;;;;;;;;;;;AAyEC,MAAA,SAAmB,MAAA;;;;AAEnB,UAAM,QAAQA,cAAAA,SAAS;AAAA,MACtB,iBAAiB,SAAS,WAAW;AAAA,MACrC,qBAAqB,SAAS,WAAW;AAAA,MACzC,WAAW,SAAS,WAAW;AAAA,MAC/B,aAAa;AAAA,MACb,cAAc;AAAA,MAEd,UAAUC,cAAAA,MAAI,eAAe,UAAU;AAAA,MAEvC,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IAAA,CACT;AACK,UAAA,EAAE,eAAeC,cAAAA;AACjB,UAAA,cAAc,WAAW,OAAO;AACtCD,kBAAAA,MAAI,cAAc;AAAA,MACjB,iBAAiB;AAAA,MACjB,OAAO,CAAC,mBAAmB,eAAe;AAAA,IAAA,CAC1C;AAEDE,kBAAAA,OAAO,MAAM;AACZ,kBAAY,SAAS,8BAA8B;AAAA,QAClD,WAAW;AAAA,MAAA,CACX,EAAE,KAAK,CAAC,QAAiB;AACnB,cAAA,SAAS,IAAI,KAAK;AAAA,MAAA,CACxB;AACD,kBAAY,SAAS,8BAA8B;AAAA,QAClD,WAAW;AAAA,MAAA,CACX,EAAE,KAAK,CAAC,QAAiB;AACnB,cAAA,SAAS,IAAI,KAAK;AAAA,MAAA,CACxB;AACD,kBAAY,SAAS,wBAAwB,EAAE,KAAK,CAAC,QAAiB;AACrE,cAAM,WAAW,IAAI;AAAA,MAAA,CACrB;AAAA,IAAA,CACD;AAEK,UAAA,cAAc,CAAC,OAAgB;AACpC,kBAAY,SAAS,kCAAkC;AAAA,QACtD,WAAW;AAAA,MAAA,CACX,EAAE,KAAK,CAAC,QAAiB;AACnB,cAAA,eAAe,IAAI,KAAK;AAC9B,cAAM,cAAc;AAAA,MAAA,CACpB;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnHH,GAAG,WAAWC,SAAe;"}