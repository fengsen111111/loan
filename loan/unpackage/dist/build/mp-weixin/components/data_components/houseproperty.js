"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js");if(!Array){e.resolveComponent("u-icon")()}Math||((()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js")+t)();const t=()=>"../option-bt.js",r=e.defineComponent({__name:"houseproperty",props:{showFlag:{type:Boolean}},emits:["next"],setup(t,{emit:r}){const s=r,a=t,{appContext:n}=e.getCurrentInstance(),i=n.config.globalProperties,p=e.reactive({front:"",behind:"",timeNum:59,codeTimer:null,codeText:"发送验证码",checked:[1],tips_popup:!1,tips_timer:null,tipsText:"资料未填写完成",order_type:"b"!==e.index.getStorageSync("order_type")}),d=e.reactive({houses:e.index.getStorageSync("houseArray")});e.onShow((()=>{e.index.getStorageSync("houseArray")&&(d.houses=e.index.getStorageSync("houseArray"))}));e.onMounted((()=>{i.$request("/loan/Order/getOrderDetail",{order_id:e.index.getStorageSync("order_id"),page_number:7}).then((o=>{0!==o.data.order_material.length&&(Object.assign(d,o.data.order_material),e.index.setStorageSync("houseArray",o.data.order_material.houses))}))}));const u=e=>{p.tipsText=e,p.tips_popup=!0,null!==p.tips_timer&&clearTimeout(p.tips_timer),p.tips_timer=setTimeout((()=>{p.tips_popup=!1}),2e3)};return(t,r)=>e.e({a:!a.showFlag},(a.showFlag,{}),{b:!a.showFlag},(a.showFlag,{}),{c:e.f(d.houses,((t,r,s)=>e.e({a:e.t(t.card_number),b:e.f(t.owners,((o,t,r)=>({a:e.t(o.name),b:t}))),c:e.f(t.weituo_person,((o,t,r)=>({a:e.t(o.name),b:t}))),d:e.t(t.address)},a.showFlag?{}:{e:o._imports_0$9,f:e.o((o=>(o=>{e.index.navigateTo({url:"/home_packages/add_house/index?type=2&houseIndex="+o})})(r)),r),g:"1ad138d3-0-"+s,h:e.p({name:"trash",size:"5vw",color:"#FF8177"})},{i:r}))),d:!a.showFlag,e:!a.showFlag},a.showFlag?{}:{f:e.o((e=>t.$navigateTo("/home_packages/add_house/index",{type:1})))},{g:!a.showFlag},(a.showFlag,{}),{h:p.tips_popup},p.tips_popup?{i:e.t(p.tipsText)}:{},{j:!a.showFlag},a.showFlag?{}:{k:e.o((o=>{0!==d.houses.length?i.$request("/loan/Order/makeOrder",{id:e.index.getStorageSync("order_id"),page_number:7,...d}).then((()=>{s("next")})):u("资料未填写完成")})),l:e.o((e=>{s("next")})),m:e.p({showCancel:p.order_type,cancelText:"跳过",cancelColor:"#999999",cancelBgColor:"#F6F7FB"})})}});wx.createComponent(r);
