"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js");if(!Array){(e.resolveComponent("u-icon")+e.resolveComponent("u-parse"))()}Math||((()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js")+(()=>"../../node-modules/uview-plus/components/u-parse/u-parse.js")+a)();const a=()=>"../../components/tabbar.js",n=e.defineComponent({__name:"index",setup(a){const n=e.reactive({statusBarHeight:getApp().globalData.statusBarHeight,navigationBarHeight:getApp().globalData.navigationBarHeight,navHeight:getApp().globalData.navHeight,tabbarHeight:0,banner:[],notice:[],isNotSearch:!0,popup_state:!1,searchVal:"",screen_list:[],screen_type:0,list:[],type:{person:1,company:2},rate_type:{day:"日化",month:"月化",year:"年化"},html_content:""}),{appContext:o}=e.getCurrentInstance(),s=o.config.globalProperties;e.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),e.onShow((()=>{s.$request("/loan/Banner/getBannerList",{user_type:"worker"}).then((e=>{n.banner=e.data.list})),s.$request("/loan/Notice/getNoticeList",{user_type:"worker"}).then((e=>{n.notice=e.data.list})),s.$request("/loan/LoanType/getLoanTypeList").then((t=>{n.screen_list=t.data.list,s.$request("/loan/Goods/getGoodsList",{loan_type_id:n.screen_list[n.screen_type].id}).then((t=>{n.list=t.data.list,e.index.createSelectorQuery().select("#tabbar").boundingClientRect((e=>{n.tabbarHeight=e.height})).exec()}))}))}));const i=e=>{n.screen_type=e,n.isNotSearch=""===n.searchVal,s.$request("/loan/Goods/getGoodsList",{loan_type_id:n.screen_list[n.screen_type].id}).then((e=>{n.list=e.data.list}))};return(a,o)=>({a:t._imports_0,b:e.p({name:"search",size:"6vw",color:"#666666"}),c:e.o((e=>i(n.screen_type))),d:e.o((e=>i(n.screen_type))),e:n.searchVal,f:e.o((e=>n.searchVal=e.detail.value)),g:n.statusBarHeight+"px",h:n.navigationBarHeight+"px",i:e.f(n.banner,((t,n,o)=>({a:t.image,b:e.o((e=>a.$navigateTo("/pages/rich_text/index",{id:t.id,url:"/loan/Banner/getBannerRichText"})),n),c:n}))),j:t._imports_1$1,k:e.o((e=>a.$navigateTo("/home_packages/assistant/index"))),l:t._imports_2$1,m:e.o((e=>a.$navigateTo("/home_packages/record/index"))),n:t._imports_3$1,o:e.f(n.notice,((t,a,o)=>({a:e.t(t.title),b:"c4a842b0-1-"+o,c:a,d:e.o((e=>{return a=t.id,void s.$request("/loan/Notice/getNoticeRichText",{notice_id:a}).then((e=>{n.html_content=e.data.content,n.popup_state=!0}));var a}),a)}))),p:e.p({name:"arrow-right",size:"5vw",color:"#666666"}),q:n.isNotSearch,r:e.f(n.screen_list,((t,a,o)=>({a:e.t(t.name),b:e.n(n.screen_type===a?"active":""),c:e.o((e=>i(a)),a),d:a}))),s:e.s(n.isNotSearch?"":"margin-top:0"),t:e.f(n.list,((t,o,s)=>e.e({a:"Y"===t.is_hot},(t.is_hot,{}),{b:e.t(1===n.type[t.person_type]?"个人":"企业"),c:e.s(1===n.type[t.person_type]?"background:#FF8177":"background:#F3A469"),d:e.t(t.name),e:e.t(n.rate_type[t.rate_type]),f:e.t(t.rate_range),g:e.t(t.top_limit),h:e.t(t.loan_cycle),i:e.f(t.sign,((t,a,n)=>({a:e.t(t),b:a}))),j:e.t(t.special_des),k:"c4a842b0-2-"+s,l:e.o((e=>a.$navigateTo("/home_packages/details/index",{id:t.id,type:n.type[t.person_type]})),o),m:o}))),v:e.p({name:"arrow-right",size:"4vw",color:"#666666"}),w:"calc(100vh - "+n.navHeight+"px - 4vw - "+n.tabbarHeight+"px)",x:e.p({name:"close",size:"5vw",color:"#666666"}),y:e.o((e=>n.popup_state=!1)),z:e.p({content:n.html_content}),A:n.popup_state,B:n.popup_state,C:e.p({index:0,id:"tabbar"})})}});wx.createPage(n);
