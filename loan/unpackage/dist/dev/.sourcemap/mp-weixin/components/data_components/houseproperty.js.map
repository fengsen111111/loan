{"version":3,"file":"houseproperty.js","sources":["components/data_components/houseproperty.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjovUHJvamVjdHNDb2RlL2xvYW4vY29tcG9uZW50cy9kYXRhX2NvbXBvbmVudHMvaG91c2Vwcm9wZXJ0eS52dWU"],"sourcesContent":["<template>\n\t<view class=\"houseproperty\">\n\t\t<view class=\"head\" v-if=\"!props.showFlag\">\n\t\t\t<view class=\"top_dot\">\n\t\t\t\t<view class=\"dot finish\"></view>\n\t\t\t\t<view class=\"line finish\"></view>\n\t\t\t\t<view class=\"dot finish\"></view>\n\t\t\t\t<view class=\"line finish\"></view>\n\t\t\t\t<view class=\"dot current\"></view>\n\t\t\t\t<view class=\"line\"></view>\n\t\t\t\t<view class=\"dot\"></view>\n\t\t\t\t<view class=\"line\"></view>\n\t\t\t\t<view class=\"dot\"></view>\n\t\t\t</view>\n\t\t\t<view class=\"bottom_text\">\n\t\t\t\t<view class=\"text finish\">基本信息</view>\n\t\t\t\t<view class=\"text finish\">……………</view>\n\t\t\t\t<view class=\"text current\">房产信息</view>\n\t\t\t\t<view class=\"text\">补充资料</view>\n\t\t\t\t<view class=\"text\">信息确认</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"content\">\n\t\t\t<view class=\"label\">房产信息</view>\n\t\t\t<view class=\"table_title\">\n\t\t\t\t<view class=\"item\">不动产证书编号</view>\n\t\t\t\t<view class=\"item\">所属产权</view>\n\t\t\t\t<view class=\"item\">房屋坐落</view>\n\t\t\t\t<view class=\"item\" v-if=\"!props.showFlag\">操作</view>\n\t\t\t</view>\n\t\t\t<view class=\"table_item\" v-for=\"(item,index) in formData.houses\" :key=\"index\">\n\t\t\t\t<view class=\"item\">{{item.card_number}}</view>\n\t\t\t\t<view class=\"item\">\n\t\t\t\t\t<!-- {{item.owners[0].name}} -->\n\t\t\t\t\t<view class=\"\" v-for=\"(iss,iss_index) in item.owners\" :key=\"iss_index\">{{iss.name}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"item\">{{item.address}}</view>\n\t\t\t\t<view class=\"item\" style=\"display: flex;align-items: center;justify-content: space-between;\"\n\t\t\t\t\tv-if=\"!props.showFlag\">\n\t\t\t\t\t<image src=\"@/home_packages/static/house_edit.png\" mode=\"\" @click=\"changeHouse(index)\"></image>\n\t\t\t\t\t<u-icon name=\"trash\" size=\"5vw\" color=\"#FF8177\"></u-icon>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<div class=\"option\" v-if=\"!props.showFlag\">\n\t\t\t\t<div class=\"add_item\" @click=\"$navigateTo('/home_packages/add_house/index',{type:1})\">新增房产信息</div>\n\t\t\t</div>\n\t\t</view>\n\t\t<view style=\"height: 20vw;\" v-if=\"!props.showFlag\"></view>\n\t\t<view class=\"tips_popup\" v-if=\"state.tips_popup\">{{state.tipsText}}</view>\n\t\t<optionBt :showCancel=\"state.order_type\" cancelText=\"跳过\" cancelColor=\"#999999\" cancelBgColor=\"#F6F7FB\"\n\t\t\t@confirm=\"nextStep()\" @cancel=\"skipStep()\" v-if=\"!props.showFlag\">\n\t\t</optionBt>\n\t</view>\n</template>\n<!--创建时间：2024-03-30 10:28:21-->\n<script setup lang=\"ts\">\n\timport { onShow } from \"@dcloudio/uni-app\"\n\timport { Result } from \"@/utils/interface\"\n\timport optionBt from \"@/components/option-bt.vue\"\n\timport { reactive, defineEmits, onMounted, getCurrentInstance } from \"vue\"\n\n\tconst emits = defineEmits([\"next\"]);\n\tconst props = defineProps({\n\t\tshowFlag: { type: Boolean }\n\t})\n\n\tconst { appContext } = getCurrentInstance();\n\tconst globalProxy = appContext.config.globalProperties;\n\n\tconst state = reactive({\n\t\tfront: \"\",\n\t\tbehind: \"\",\n\t\ttimeNum: 59,\n\t\tcodeTimer: null,\n\t\tcodeText: \"发送验证码\",\n\t\tchecked: [1],\n\t\ttips_popup: false,\n\t\ttips_timer: null,\n\t\ttipsText: \"资料未填写完成\",\n\t\torder_type: uni.getStorageSync(\"order_type\") !== 'b'\n\t})\n\n\tconst formData = reactive({\n\t\thouses: uni.getStorageSync(\"houseArray\")\n\t})\n\tonShow(() => {\n\t\tif (uni.getStorageSync(\"houseArray\")) {\n\t\t\tformData.houses = uni.getStorageSync(\"houseArray\");\n\t\t}\n\t})\n\n\tconst changeHouse = (index : number) => {\n\t\tuni.navigateTo({\n\t\t\turl: \"/home_packages/add_house/index?type=2&houseIndex=\" + index\n\t\t})\n\t}\n\tconst deleteData = (index : number) => {\n\t\tformData.houses.splice(index, 1);\n\t\tif (formData.houses.length === 0) {\n\t\t\tuni.removeStorageSync(\"houseArray\")\n\t\t} else {\n\t\t\tuni.setStorageSync(\"houseArray\", formData.houses);\n\t\t}\n\t}\n\n\tconst skipStep = () => {\n\t\temits(\"next\");\n\t}\n\n\tonMounted(() => {\n\t\tglobalProxy.$request(\"/loan/Order/getOrderDetail\", {\n\t\t\torder_id: uni.getStorageSync(\"order_id\"),\n\t\t\tpage_number: 7\n\t\t}).then((res : Result) => {\n\t\t\tif (res.data.order_material.length === 0) return;\n\t\t\tObject.assign(formData, res.data.order_material);\n\t\t\tuni.setStorageSync(\"houseArray\", res.data.order_material.houses);\n\t\t})\n\t})\n\n\tconst nextStep = () => {\n\t\tif (formData.houses.length === 0) {\n\t\t\topenTips(\"资料未填写完成\");\n\t\t\treturn;\n\t\t}\n\t\tglobalProxy.$request(\"/loan/Order/makeOrder\", {\n\t\t\tid: uni.getStorageSync(\"order_id\"),\n\t\t\tpage_number: 7,\n\t\t\t...formData\n\t\t}).then(() => {\n\t\t\temits(\"next\");\n\t\t})\n\t}\n\tconst openTips = (text : string) => {\n\t\tstate.tipsText = text;\n\t\tstate.tips_popup = true;\n\t\tif (state.tips_timer !== null) {\n\t\t\tclearTimeout(state.tips_timer);\n\t\t}\n\t\tstate.tips_timer = setTimeout(() => {\n\t\t\tstate.tips_popup = false;\n\t\t}, 2000)\n\t}\n</script>\n<style lang='scss'>\n\t.houseproperty {\n\t\t.tips_popup {\n\t\t\tposition: fixed;\n\t\t\tbottom: 12vh;\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t\twidth: 54.13vw;\n\t\t\theight: 8vw;\n\t\t\tbackground: rgba(102, 102, 102, .8);\n\t\t\tborder-radius: 1.33vw;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 3.47vw;\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\n\t\t>.content {\n\t\t\tpadding: 4vw;\n\t\t\tbackground: #FFFFFF;\n\t\t\tmargin-bottom: 2.67vw;\n\n\t\t\t>.option {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tmargin-top: 5.6vw;\n\n\t\t\t\t>.add_item {\n\t\t\t\t\twidth: 80vw;\n\t\t\t\t\theight: 8vw;\n\t\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\t\tborder: 1px dotted #999999;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 3.2vw;\n\t\t\t\t\tcolor: #999999;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t>.table_item {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tmargin-top: 5.2vw;\n\t\t\t\tpadding: 0 0 0 2.67vw;\n\n\t\t\t\t>.item {\n\t\t\t\t\tfont-size: 2.67vw;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t\ttext-align: center;\n\n\t\t\t\t\t>image {\n\t\t\t\t\t\twidth: 5vw;\n\t\t\t\t\t\theight: 5vw;\n\t\t\t\t\t\tmargin-right: 3.33vw;\n\t\t\t\t\t}\n\n\t\t\t\t\t&:nth-child(1) {\n\t\t\t\t\t\twidth: 23vw;\n\t\t\t\t\t\t/* overflow: hidden;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\ttext-overflow: ellipsis; */\n\t\t\t\t\t}\n\n\t\t\t\t\t&:nth-child(2) {\n\t\t\t\t\t\twidth: 14vw;\n\t\t\t\t\t}\n\n\t\t\t\t\t&:nth-child(3) {\n\t\t\t\t\t\twidth: 19vw;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t>.table_title {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 1.4vw 2.67vw;\n\t\t\t\tborder-bottom: solid 1px #999999;\n\t\t\t\tmargin-top: 3vw;\n\n\t\t\t\t>.item {\n\t\t\t\t\tfont-size: 3.2vw;\n\t\t\t\t\tcolor: #333333;\n\n\t\t\t\t\t&:last-child {\n\t\t\t\t\t\twidth: 13vw;\n\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t>.label {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 3.73vw;\n\t\t\t\tcolor: #333333;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: \"\";\n\t\t\t\t\twidth: 1.07vw;\n\t\t\t\t\theight: 5.33vw;\n\t\t\t\t\tbackground: #F97E39;\n\t\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\t\tmargin-right: 1.47vw;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t>.head {\n\t\t\tbackground: #FFFFFF;\n\t\t\tmargin: 2.67vw 0;\n\t\t\tpadding: 2.67vw 4vw;\n\n\t\t\t>.top_dot {\n\t\t\t\twidth: calc(100% - 8.14vw);\n\t\t\t\tpadding: 0 4.07vw;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\n\t\t\t\t>.line {\n\t\t\t\t\twidth: 8vw;\n\t\t\t\t\theight: 0.53vw;\n\t\t\t\t\tbackground: #999999;\n\t\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\t}\n\n\t\t\t\t>.dot {\n\t\t\t\t\twidth: 2.67vw;\n\t\t\t\t\theight: 2.67vw;\n\t\t\t\t\tbackground: #999999;\n\t\t\t\t\tborder-radius: 1.33vw;\n\t\t\t\t}\n\n\t\t\t\t>.current {\n\t\t\t\t\tbackground: #F97E39;\n\t\t\t\t}\n\n\t\t\t\t>.finish {\n\t\t\t\t\tbackground: #109181;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t>.bottom_text {\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 2.67vw;\n\t\t\t\tcolor: #999999;\n\n\t\t\t\t>.current {\n\t\t\t\t\tcolor: #F97E39;\n\t\t\t\t}\n\n\t\t\t\t>.finish {\n\t\t\t\t\tcolor: #109181;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>","import Component from 'F:/ProjectsCode/loan/components/data_components/houseproperty.vue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","reactive","uni","onShow","onMounted","Component"],"mappings":";;;;;;;;;;;AA4DC,MAAA,WAAqB,MAAA;;;;;;;;AAGrB,UAAM,QAAQ;AACd,UAAM,QAAQ;AAIR,UAAA,EAAE,eAAeA,cAAAA;AACjB,UAAA,cAAc,WAAW,OAAO;AAEtC,UAAM,QAAQC,cAAAA,SAAS;AAAA,MACtB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,WAAW;AAAA,MACX,UAAU;AAAA,MACV,SAAS,CAAC,CAAC;AAAA,MACX,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,YAAYC,cAAA,MAAI,eAAe,YAAY,MAAM;AAAA,IAAA,CACjD;AAED,UAAM,WAAWD,cAAAA,SAAS;AAAA,MACzB,QAAQC,cAAAA,MAAI,eAAe,YAAY;AAAA,IAAA,CACvC;AACDC,kBAAAA,OAAO,MAAM;AACR,UAAAD,cAAA,MAAI,eAAe,YAAY,GAAG;AAC5B,iBAAA,SAASA,cAAAA,MAAI,eAAe,YAAY;AAAA,MAClD;AAAA,IAAA,CACA;AAEK,UAAA,cAAc,CAAC,UAAmB;AACvCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,sDAAsD;AAAA,MAAA,CAC3D;AAAA,IAAA;AAWF,UAAM,WAAW,MAAM;AACtB,YAAM,MAAM;AAAA,IAAA;AAGbE,kBAAAA,UAAU,MAAM;AACf,kBAAY,SAAS,8BAA8B;AAAA,QAClD,UAAUF,cAAAA,MAAI,eAAe,UAAU;AAAA,QACvC,aAAa;AAAA,MAAA,CACb,EAAE,KAAK,CAAC,QAAiB;AACrB,YAAA,IAAI,KAAK,eAAe,WAAW;AAAG;AAC1C,eAAO,OAAO,UAAU,IAAI,KAAK,cAAc;AAC/CA,sBAAA,MAAI,eAAe,cAAc,IAAI,KAAK,eAAe,MAAM;AAAA,MAAA,CAC/D;AAAA,IAAA,CACD;AAED,UAAM,WAAW,MAAM;AAClB,UAAA,SAAS,OAAO,WAAW,GAAG;AACjC,iBAAS,SAAS;AAClB;AAAA,MACD;AACA,kBAAY,SAAS,yBAAyB;AAAA,QAC7C,IAAIA,cAAAA,MAAI,eAAe,UAAU;AAAA,QACjC,aAAa;AAAA,QACb,GAAG;AAAA,MAAA,CACH,EAAE,KAAK,MAAM;AACb,cAAM,MAAM;AAAA,MAAA,CACZ;AAAA,IAAA;AAEI,UAAA,WAAW,CAAC,SAAkB;AACnC,YAAM,WAAW;AACjB,YAAM,aAAa;AACf,UAAA,MAAM,eAAe,MAAM;AAC9B,qBAAa,MAAM,UAAU;AAAA,MAC9B;AACM,YAAA,aAAa,WAAW,MAAM;AACnC,cAAM,aAAa;AAAA,SACjB,GAAI;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IT,GAAG,gBAAgBG,SAAS;"}