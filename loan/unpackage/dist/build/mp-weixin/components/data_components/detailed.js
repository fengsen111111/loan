"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("u-icon")()}Math||((()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js")+a)();const a=()=>"../option-bt.js",o=e.defineComponent({__name:"detailed",props:{showFlag:{type:Boolean}},emits:["next"],setup(a,{emit:o}){const{appContext:t}=e.getCurrentInstance(),r=t.config.globalProperties,n=a,i=e.reactive({tips_popup:!1,tips_timer:null,tipsText:"资料未填写完成",pub_value:[],pub_picker:!1,column:{},pub_name:"",select_value:0}),s=o,c=e.reactive({marriage:"",educational:"",degree:"",occupation:"",city_address:"",address:"",company_name:"",industry:"",post:"",professional_title:"",spouse_name:"",spouse_id_card:"",spouse_mobile:"",emergency_contact_name:"",emergency_contact_mobile:"",emergency_contact_relationship:"",other_contact_name:"",other_contact_mobile:""});e.index.getStorageSync("setInfoFormData")&&(c.address=e.index.getStorageSync("setInfoFormData").id_card_address),e.onMounted((()=>{r.$request("/loan/Order/getOrderDetail",{order_id:e.index.getStorageSync("order_id"),page_number:2}).then((e=>{0!==e.data.order_material.length&&Object.assign(c,e.data.order_material)}))}));r.$request("/loan/Dictionary/getDictionary").then((e=>{let a={};e.data.records.map((e=>{a[e.key]={picker_title:e.name,list:e.values.map((e=>({name:e})))}})),i.column=a}));const l=e=>{i.select_value=e.detail.value[0]},p=e=>{i.tipsText=e,i.tips_popup=!0,null!==i.tips_timer&&clearTimeout(i.tips_timer),i.tips_timer=setTimeout((()=>{i.tips_popup=!1}),2e3)},_=e=>{n.showFlag||(i.pub_name=e,i.pub_picker=!0)};return(a,o)=>e.e({a:!n.showFlag},(n.showFlag,{}),{b:e.t(c.marriage),c:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),d:e.o((e=>_("marriage"))),e:e.t(c.educational),f:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),g:e.o((e=>_("educational"))),h:e.t(c.degree),i:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),j:e.o((e=>_("degree"))),k:e.t(c.occupation),l:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),m:e.o((e=>_("occupation"))),n:n.showFlag,o:c.city_address,p:e.o((e=>c.city_address=e.detail.value)),q:n.showFlag,r:c.address,s:e.o((e=>c.address=e.detail.value)),t:n.showFlag,v:c.company_name,w:e.o((e=>c.company_name=e.detail.value)),x:e.t(c.industry),y:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),z:e.o((e=>_("industry"))),A:e.t(c.post),B:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),C:e.o((e=>_("post"))),D:e.t(c.professional_title),E:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),F:e.o((e=>_("professional_title"))),G:"未婚"!==c.marriage},"未婚"!==c.marriage?{H:n.showFlag,I:c.spouse_name,J:e.o((e=>c.spouse_name=e.detail.value)),K:n.showFlag,L:c.spouse_id_card,M:e.o((e=>c.spouse_id_card=e.detail.value)),N:n.showFlag,O:c.spouse_mobile,P:e.o((e=>c.spouse_mobile=e.detail.value))}:{},{Q:n.showFlag,R:c.emergency_contact_name,S:e.o((e=>c.emergency_contact_name=e.detail.value)),T:n.showFlag,U:c.emergency_contact_mobile,V:e.o((e=>c.emergency_contact_mobile=e.detail.value)),W:e.t(c.emergency_contact_relationship),X:e.p({name:"arrow-down",size:"5vw",color:"#666666"}),Y:e.o((e=>_("emergency_contact_relationship"))),Z:n.showFlag,aa:c.other_contact_name,ab:e.o((e=>c.other_contact_name=e.detail.value)),ac:n.showFlag,ad:c.other_contact_mobile,ae:e.o((e=>c.other_contact_mobile=e.detail.value)),af:!n.showFlag},(n.showFlag,{}),{ag:!n.showFlag},n.showFlag?{}:{ah:e.o((a=>{""!==c.marriage&&""!==c.address?r.$request("/loan/Order/makeOrder",{id:e.index.getStorageSync("order_id"),page_number:2,...c}).then((()=>{s("next")})):p("资料未填写完成")}))},{ai:i.tips_popup},i.tips_popup?{aj:e.t(i.tipsText)}:{},{ak:i.pub_picker},i.pub_picker?{al:e.o((e=>i.pub_picker=!1)),am:e.t(i.column[i.pub_name].picker_title),an:e.o((e=>(c[i.pub_name]=i.column[i.pub_name].list[i.select_value].name,i.select_value=0,void(i.pub_picker=!1)))),ao:e.f(i.column[i.pub_name].list,((a,o,t)=>({a:e.t(a.name),b:o}))),ap:i.pub_value,aq:e.o(l)}:{},{ar:i.pub_picker},i.pub_picker?{as:e.o((e=>i.pub_picker=!1))}:{})}});wx.createComponent(o);
