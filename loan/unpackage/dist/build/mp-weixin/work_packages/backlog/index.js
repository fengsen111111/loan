"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js");if(!Array){e.resolveComponent("u-icon")()}Math||(o+(()=>"../../node-modules/uview-plus/components/u-icon/u-icon.js"))();const o=()=>"../../components/navbar.js",t=e.defineComponent({__name:"index",setup(o){const{appContext:t}=e.getCurrentInstance(),n=t.config.globalProperties;e.index.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});const r=e.reactive({list:[],search_type:"name",search_name:"选择按姓名",search_word:"",pub_picker:!1,pub_value:[],column:[{name:"选择按姓名",value:"name"},{name:"选择按证件号",value:"card_number"},{name:"选择按手机号",value:"mobile"},{name:"选择按合同编号",value:"contract_num"}],page:1,pageSize:10,total:0,status_type:{a:{color:"#FF8177",name:"待提交"},b:{color:"#F97E39",name:"待审核"},c:{color:"#FF8177",name:"待签约"},d:{color:"#FF8177",name:"公证中"},e:{color:"#FF8177",name:"待放款"},g:{color:"#FF8177",name:"流程完结"},f:{color:"#FF8177",name:"转债中"},z:{color:"#FF8177",name:"合同作废"}}});e.onMounted((()=>{c(1)}));const c=a=>{1===a&&(r.page=1),e.index.showLoading({title:"请稍后"}),n.$request("/loan/Order/getOrderList",{currentPage:r.page,perPage:r.pageSize,user_type:e.index.getStorageSync("userInfo").user_type.length>1?"b":"a",status:"c",search_type:r.search_type,search_data:r.search_word}).then((a=>{r.total=a.data.count,1===r.page?r.list=a.data.list:r.list=r.list.concat(a.data.list),e.index.hideLoading()}))},s=e=>{r.pub_value=e.detail.value};return e.onReachBottom((()=>{r.page+1<=Math.ceil(r.total/r.pageSize)&&(r.page++,c(2))})),(o,t)=>e.e({a:e.p({title:"待办件"}),b:e.t(r.search_name),c:e.p({name:"arrow-down",size:"3vw",color:"#666666"}),d:e.o((e=>r.pub_picker=!0)),e:e.p({name:"search",size:"5vw",color:"#666666"}),f:r.search_word,g:e.o((e=>r.search_word=e.detail.value)),h:e.o((e=>c(1))),i:e.f(r.list,((a,t,n)=>({a:e.t(a.name),b:e.t("person"===a.type?o.$cardUtil(a.card_number):""),c:"f0244fe0-3-"+n,d:e.o((e=>o.$navigateTo("/work_packages/detail/index",{id:a.id,goods_name:a.goods_name})),t),e:e.t(a.goods_name),f:e.t(a.contract_num),g:e.t(a.create_time),h:t}))),j:e.p({name:"arrow-right",size:"4vw",color:"#666666"}),k:0===r.list.length},0===r.list.length?{l:a._imports_0$5}:{},{m:r.pub_picker},r.pub_picker?{n:e.o((e=>r.pub_picker=!1)),o:e.o((e=>(r.search_type=r.column[r.pub_value[0]].value,r.search_name=r.column[r.pub_value[0]].name,void(r.pub_picker=!1)))),p:e.f(r.column,((a,o,t)=>({a:e.t(a.name),b:o}))),q:r.pub_value,r:e.o(s)}:{},{s:r.pub_picker},r.pub_picker?{t:e.o((e=>r.pub_picker=!1))}:{})}});wx.createPage(t);
